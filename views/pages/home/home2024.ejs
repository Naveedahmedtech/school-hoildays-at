<div class="main_container_home">
  <!-- Menu -->
   <div class="dropdown-container-home">

  <!-- Dropdown to select a year -->
<select id="yearDropdown" onchange="navigateToYear()">
<% for (let year = 2017; year <= 2025; year++) { %>
  <option value="<%= year %>" <%= year === selectedYear ? 'selected' : '' %>>
    <%= year %>
  </option>  
<% } %>
</select>

  <div id="menu_annee">
    <ul>
      <li>
        <a
        id="actif"
        >
        <%= selectedYear %>
        </a>
      </li>
    </ul>
   </div>
  </div>

  <!-- Page Title -->
  <h1><%= t(pageTitle) + " " + selectedYear + "-" + (selectedYear + 1) %></h1>

  <div class="date taille25">&nbsp;</div>

<!-- Zones -->
<% zones.forEach(zone => { %>
  <div class="date dd<%= zone.text.charAt(zone.text.length - 1) %> taille33">
    <a
      href="/zones?year=<%= selectedYear  %>&zone=<%= zone.text %>"
      class="<%= zone.className %>"
      title="<%= zone.title %>"
    >
      <%= zone.text %>
    </a>
  </div>
<% }); %>

<div class="spacer"></div>

<!-- First Three Vacations -->
<% firstThreeVacations.forEach((item) => { %>
  <div class="dateLibelle dLibelle taille25">
    <a href="<%= item.link %>" class="noir b"><%= item.title %></a>
  </div>
  <div class="date dZ <%= item.isOff ? 'off' : '' %>">
    <div class="zone zZ">
      <div class="<%= item.className %>"><%= item.zoneA %></div>
      <div class="<%= item.className %>"><%= item.zoneB %></div>
      <div class="<%= item.className %>"><%= item.zoneC %></div>
    </div>
    <span class="lesdates">
      <b><%= item.startDate ? "Fin des cours : " + item.startDate : "" %></b><br />
      <b><%= item.endDate ? "Jour de reprise : " + item.endDate : "" %></b>
    </span>
  </div>
<% }); %>

<div class="spacer"></div>

<!-- Vacation 1 -->
<div class="dateLibelle dLibelle taille25">
  <a href="<%= vacation.link %>" class="noir b"><%= vacation.title %></a>
</div>
<% vacation.zones.forEach((zone) => { %>
  <div class="date <%= zone.className %> taille33 <%= zone.isOff ? 'off' : '' %>">
    <div class="zone <%= zone.zoneClass %>">
      <span><%= zone.zoneName %></span>
    </div>
    <span class="lesdates">
      <div class="mobile">Fin des cours :</div>
      <b><%= zone.endOfClasses %></b><br />
      <% if (zone.dayOfResumption) { %>
        <div class="mobile">Jour de reprise :</div>
        <b><%= zone.dayOfResumption %></b>
      <% } %>
    </span>
  </div>
<% }); %>

<div class="spacer"></div>

<!-- Vacation 2 -->
<div class="dateLibelle dLibelle taille25">
  <a href="<%= vacation2.link %>" class="noir b"><%= vacation2.title %></a>
</div>
<% vacation2.zones.forEach((zone) => { %>
  <div class="date <%= zone.className %> taille33 <%= zone.isOff ? 'off' : '' %>">
    <div class="zone <%= zone.zoneClass %>">
      <span><%= zone.zoneName %></span>
    </div>
    <span class="lesdates">
      <div class="mobile">Fin des cours :</div>
      <b><%= zone.endOfClasses %></b><br />
      <% if (zone.dayOfResumption) { %>
        <div class="mobile">Jour de reprise :</div>
        <b><%= zone.dayOfResumption %></b>
      <% } %>
    </span>
  </div>
<% }); %>

<div class="spacer"></div>

<!-- Last Two Vacations -->
<% lastTwoVacations.forEach((item) => { %>
  <div class="dateLibelle dLibelle taille25">
    <a href="<%= item.link %>" class="noir b"><%= item.title %></a>
  </div>
  <div class="date dZ <%= item.isOff ? 'off' : '' %>">
    <div class="zone zZ">
      <div class="<%= item.className %>"><%= item.zoneA %></div>
      <div class="<%= item.className %>"><%= item.zoneB %></div>
      <div class="<%= item.className %>"><%= item.zoneC %></div>
    </div>
    <span class="lesdates">
      <b><%= item.startDate ? "Fin des cours : " + item.startDate : "" %></b><br />
      <b><%= item.endDate ? "Jour de reprise : " + item.endDate : "" %></b>
    </span>
  </div>
<% }); %>


  <div class="spacer"></div>

  <!-- Last Two Vacations -->
  <% lastTwoVacations.forEach((item) => { %>
  <div class="dateLibelle dLibelle taille25">
    <a href="<%= item.link %>" class="noir b"><%= item.title %></a>
  </div>
  <div class="date dZ <%= item?.isOff ? 'off' : '' %> off">
    <div class="zone zZ">
      <div class="<%= item.className %> off"><%= item.zoneA %></div>
      <div class="<%= item.className %> off"><%= item.zoneB %></div>
      <div class="<%= item.className %> off"><%= item.zoneC %></div>
    </div>
    <span class="lesdates">
      <b><%= item.startDate ? "Fin des cours : " + item.startDate : "" %></b><br />
       <b><%= item.endDate ? "Jour de reprise : " + item.endDate : "" %></b>
    </span>
  </div>
  <% }); %>

  <div class="spacer"></div>
  <div class="spacer"></div>

  <!-- Corse and Overseas -->
  <div class="dateTitre">
    <span><%= t('corsica_calendar') %></span>
  </div>
  <div class="date ddAutre">
    <span class="lesdates b f20">
      <a
        href="/zones/corse-year-2024"
        class="noir"
        title="vacances scolaires Corse"
        >Corse</a
      >
    </span>
  </div>
  <div class="date ddAutre">
    <span class="lesdates b f20"
      ><a
        href="/zones/guadeloupe-year-2025"
        class="noir"
        title="vacances scolaires Guadeloupe"
        >Guadeloupe</a
      ></span
    >
  </div>
  <div class="date ddAutre">
    <span class="lesdates b f20"
      ><a
        href="/zones/guyane-year-2024"
        class="noir"
        title="vacances scolaires Guyane"
        >Guyane</a
      ></span
    >
  </div>
  <div class="date ddAutre">
    <span class="lesdates b f20"
      ><a
        href="/zones/martinique-year-2024"
        class="noir"
        title="vacances scolaires Martinique"
        >Martinique</a
      ></span
    >
  </div>
  <div class="date ddAutre">
    <span class="lesdates b f20"
      ><a
        href="/zones/mayotte-year-2024"
        class="noir"
        title="vacances scolaires Mayotte"
        >Mayotte</a
      ></span
    >
  </div>
  <div class="date ddAutre">
    <span class="lesdates b f20"
      ><a
        href="/zones/reunion-year-2024"
        class="noir"
        title="vacances scolaires Réunion"
        >Réunion</a
      ></span
    >
  </div>

  <!-- List of Academies -->
  <div class="dateTitre">
    <span><%= t('academies_by_zone') %></span>
  </div>
  <div class="date dA">
    <div class="zone zA"><span>Zone A</span></div>
    <span class="lesdates">
      <a href="/academie/besancon-year-2024" class="noir">Besançon</a>,
      <a href="/academie/bordeaux-year-2024" class="noir">Bordeaux</a>,
      <a href="/academie/clermont-ferrand-year-2024" class="noir"
        >Clermont-Ferrand</a
      >, <a href="/academie/dijon-year-2024" class="noir">Dijon</a>,
      <a href="/academie/grenoble-year-2024" class="noir">Grenoble</a>,
      <a href="/academie/limoges-year-2024" class="noir">Limoges</a>,
      <a href="/academie/lyon-year-2024" class="noir">Lyon</a>,
      <a href="/academie/poitiers-year-2024" class="noir">Poitiers</a>
    </span>
  </div>
  <div class="date dB">
    <div class="zone zB"><span>Zone B</span></div>
    <span class="lesdates">
      <a href="/academie/aix-marseille-year-2024" class="noir">Aix-Marseille</a
      >, <a href="/academie/amiens-year-2024" class="noir">Amiens</a>,
      <a href="/academie/caen-year-2024" class="noir">Caen</a>,
      <a href="/academie/lille-year-2024" class="noir">Lille</a>,
      <a href="/academie/nancy-metz-year-2024" class="noir">Nancy-Metz</a>,
      <a href="/academie/nantes-year-2024" class="noir">Nantes</a>,
      <a href="/academie/nice-year-2024" class="noir">Nice</a>,
      <a href="/academie/orleans-tours-year-2024" class="noir">Orléans-Tours</a
      >, <a href="/academie/reims-year-2024" class="noir">Reims</a>,
      <a href="/academie/rennes-year-2024" class="noir">Rennes</a>,
      <a href="/academie/rouen-year-2024" class="noir">Rouen</a>,
      <a href="/academie/strasbourg-year-2024" class="noir">Strasbourg</a>
    </span>
  </div>
  <div class="date dC">
    <div class="zone zC"><span>Zone C</span></div>
    <span class="lesdates">
      <a href="/academie/creteil-year-2024" class="noir">Créteil</a>,
      <a href="/academie/montpellier-year-2024" class="noir">Montpellier</a>,
      <a href="/academie/paris-year-2024" class="noir">Paris</a>,
      <a href="/academie/toulouse-year-2024" class="noir">Toulouse</a>,
      <a href="/academie/versailles-year-2024" class="noir">Versailles</a>
    </span>
  </div>
  <div class="date dCorse">
    <div class="zone zCorse"><span>Corse</span></div>
    <span class="lesdates"
      ><a href="/academie/corse-year-2024" class="noir">Corse</a></span
    >
  </div>

  <section class="home-section">
    <h1 class="home-title"><%= t('home.title') %></h1>
    <div class="home-container">
  
      <div class="card">
        <h2><%= t('home.searchTitle') %></h2>
        <p><%= t('home.searchDescription') %></p>
      </div>
  
      <div class="card">
        <h2><%= t('home.yearTabsTitle') %></h2>
        <p><%= t('home.yearTabsDescription') %></p>
      </div>
  
      <div class="card">
        <h2><%= t('home.zonesTablesTitle') %></h2>
        <p><%= t('home.zonesTablesDescription') %></p>
      </div>
  
      <div class="card">
        <h2><%= t('home.interactiveMapTitle') %></h2>
        <p><%= t('home.interactiveMapDescription') %></p>
      </div>
  
      <div class="card">
        <h2><%= t('home.linksTitle') %></h2>
        <p><%= t('home.linksDescription') %></p>
      </div>
  
      <p class="home-footer"><%= t('home.footerText') %></p>
    </div>
  </section>
  
  
</div>

<script>
  function navigateToYear() {
    const dropdown = document.getElementById('yearDropdown');
    const selectedYear = dropdown.value;
    console.log("selectedYear", selectedYear)
    window.location.href = `?year=${selectedYear}`;
  }
</script>
